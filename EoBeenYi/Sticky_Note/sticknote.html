<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StickNote</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <div class="container">
    <div class="notes">
      <div id="create">
        <i class="fa-solid fa-plus"></i>
        <div class="createBox">
          <div class="innerCreateBox">
            <textarea placeholder="Write Here . . ."id="userInput" maxlength="160"></textarea>
          </div>
        </div>
    </div>  
  </div>
  <script>
    let createBox = document.getElementsByClassName('createBox')[0];
    let notes = document.getElementsByClassName('notes')[0];
    let input = document.getElementById('userInput');
    let i = 0;

    createBox.addEventListener('keydown', content);

    document.getElementById("create").addEventListener("click", function(){
      createBox.style.display = "block";
    });

    function content(e){

      if(e.key == 'Enter'){
        divStyle(input.value);
        input.value="";
        createBox.style.display = "none";
      }
    }

    function color(){
      let randomColors = ["#c2ff3d", "#ff3de8", "#3dc2ff", "#04e022", "#bc83e6"];
      if(i > randomColors.length - 1){
        i = 0;
      }
      return randomColors[i++];
    }

    function divStyle(text){
      let div = document.createElement("div");
      div.className = 'note';
      div.innerHTML = '<div class="details"><h3>' + text + '</h3></div>';

      div.addEventListener("dblclick", function(){
        div.remove();
      })

      div.setAttribute('style', 'background:'+color()+'');
      notes.appendChild(div); 
    }
  </script>
</body>
</html>